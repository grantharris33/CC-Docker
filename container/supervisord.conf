[supervisord]
nodaemon=true
user=claude
logfile=/tmp/supervisord.log
pidfile=/tmp/supervisord.pid

[program:xvfb]
command=/usr/bin/Xvfb :99 -screen 0 1920x1080x24 -ac +extension GLX +render -noreset
autostart=true
autorestart=true
stdout_logfile=/tmp/xvfb.log
stderr_logfile=/tmp/xvfb_err.log
user=claude

[program:fluxbox]
command=/usr/bin/fluxbox
environment=DISPLAY=":99"
autostart=true
autorestart=true
stdout_logfile=/tmp/fluxbox.log
stderr_logfile=/tmp/fluxbox_err.log
user=claude

[program:x11vnc]
command=/usr/bin/x11vnc -display :99 -forever -shared -rfbport 5900 -nopw -xkb
autostart=true
autorestart=true
stdout_logfile=/tmp/x11vnc.log
stderr_logfile=/tmp/x11vnc_err.log
user=claude

[program:wrapper]
command=python3 /opt/wrapper/main.py
directory=/workspace
environment=DISPLAY=":99",PATH="/opt/wrapper/.venv/bin:/usr/local/bin:/usr/bin:/bin"
autostart=true
autorestart=true
stdout_logfile=/tmp/wrapper.log
stderr_logfile=/tmp/wrapper_err.log
user=claude
